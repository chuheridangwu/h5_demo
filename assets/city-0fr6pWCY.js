import{aj as et,a1 as Me,a2 as me,$ as Ct,s as tt,V as wt,i as St,j as It,o as nt,c as Q,d as ee,q as L,ak as Ne,U as Te,b as A,al as at,e as ce,x as lt,k as Y,v as ye,am as Se,C as p,_ as ne,an as it,ao as _t,a as c,n as z,m as ae,M as oe,w as ie,X as Ee,D as Fe,ap as ot,E as Tt,aq as Rt,t as le,f as Ie,y as j,ar as $t,as as He,at as pe,J as Bt,au as At,av as Lt,r as rt,h as he,aw as We,ax as Et,ay as Vt,F as ct,z as Pt,A as Ot,az as Mt,aA as zt,ag as Dt,K as qe,Q as _e,u as Nt,I as ve,aB as je,aC as Ft,aD as Ht,W as Wt,aE as qt,aF as jt,aG as Ye,aH as Kt,p as ge,aI as Ut,aJ as pt,G as Yt,R as Zt,aK as Xt,a3 as st,ab as ut,a4 as q,a5 as J,aL as dt,a8 as ze,H as re,af as be,ad as Gt,ai as De,aa as Jt,ae as Ze,ah as Qt}from"./index-Dq03yOVi.js";import{u as ft}from"./city-cGGUMu6h.js";import{a as se,b as en,u as tn}from"./index-BQ57qpDf.js";import{S as nn,a as an}from"./index-Bm37MXHC.js";function ln(e,n,l){let r,o=0;const a=e.scrollLeft,s=l===0?1:Math.round(l*1e3/16);function h(){et(r)}function i(){e.scrollLeft+=(n-a)/s,++o<s&&(r=Me(i))}return i(),h}function on(e,n,l,r){let o,a=me(e);const s=a<n,h=l===0?1:Math.round(l*1e3/16),i=(n-a)/h;function b(){et(o)}function d(){a+=i,(s&&a>n||!s&&a<n)&&(a=n),Ct(e,a),s&&a<n||!s&&a>n?o=Me(d):r&&(o=Me(r))}return d(),b}let rn=0;function Re(){const e=tt(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++rn}`}function ht(e,n){if(!wt||!window.IntersectionObserver)return;const l=new IntersectionObserver(a=>{n(a[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&l.observe(e.value)},o=()=>{e.value&&l.unobserve(e.value)};St(o),It(o),nt(r)}const[cn,sn]=Q("sticky"),un={zIndex:z,position:ae("top"),container:Object,offsetTop:oe(0),offsetBottom:oe(0)};var dn=ee({name:cn,props:un,emits:["scroll","change"],setup(e,{emit:n,slots:l}){const r=L(),o=Ne(r),a=Te({fixed:!1,width:0,height:0,transform:0}),s=L(!1),h=A(()=>at(e.position==="top"?e.offsetTop:e.offsetBottom)),i=A(()=>{if(s.value)return;const{fixed:g,height:I,width:m}=a;if(g)return{width:`${m}px`,height:`${I}px`}}),b=A(()=>{if(!a.fixed||s.value)return;const g=ce(lt(e.zIndex),{width:`${a.width}px`,height:`${a.height}px`,[e.position]:`${h.value}px`});return a.transform&&(g.transform=`translate3d(0, ${a.transform}px, 0)`),g}),d=g=>n("scroll",{scrollTop:g,isFixed:a.fixed}),$=()=>{if(!r.value||Se(r))return;const{container:g,position:I}=e,m=ne(r),_=me(window);if(a.width=m.width,a.height=m.height,I==="top")if(g){const y=ne(g),V=y.bottom-h.value-a.height;a.fixed=h.value>m.top&&y.bottom>0,a.transform=V<0?V:0}else a.fixed=h.value>m.top;else{const{clientHeight:y}=document.documentElement;if(g){const V=ne(g),w=y-V.top-h.value-a.height;a.fixed=y-h.value<m.bottom&&y>V.top,a.transform=w<0?-w:0}else a.fixed=y-h.value<m.bottom}d(_)};return Y(()=>a.fixed,g=>n("change",g)),ye("scroll",$,{target:o,passive:!0}),ht(r,$),Y([it,_t],()=>{!r.value||Se(r)||!a.fixed||(s.value=!0,p(()=>{const g=ne(r);a.width=g.width,a.height=g.height,s.value=!1}))}),()=>{var g;return c("div",{ref:r,style:i.value},[c("div",{class:sn({fixed:a.fixed&&!s.value}),style:b.value},[(g=l.default)==null?void 0:g.call(l)])])}}});const fn=ie(dn),[hn,Xe]=Q("tabs");var vn=ee({name:hn,props:{count:Ee(Number),inited:Boolean,animated:Boolean,duration:Ee(z),swipeable:Boolean,lazyRender:Boolean,currentIndex:Ee(Number)},emits:["change"],setup(e,{emit:n,slots:l}){const r=L(),o=h=>n("change",h),a=()=>{var h;const i=(h=l.default)==null?void 0:h.call(l);return e.animated||e.swipeable?c(nn,{ref:r,loop:!1,class:Xe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:o},{default:()=>[i]}):i},s=h=>{const i=r.value;i&&i.state.active!==h&&i.swipeTo(h,{immediate:!e.inited})};return Y(()=>e.currentIndex,s),Fe(()=>{s(e.currentIndex)}),se({swipeRef:r}),()=>c("div",{class:Xe("content",{animated:e.animated||e.swipeable})},[a()])}});const[vt,we]=Q("tabs"),gn={type:ae("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:oe(0),duration:oe(.3),animated:Boolean,ellipsis:le,swipeable:Boolean,scrollspy:Boolean,offsetTop:oe(0),background:String,lazyRender:le,showHeader:le,lineWidth:z,lineHeight:z,beforeChange:Function,swipeThreshold:oe(5),titleActiveColor:String,titleInactiveColor:String},gt=Symbol(vt);var bn=ee({name:vt,props:gn,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:l}){let r,o,a,s,h;const i=L(),b=L(),d=L(),$=L(),g=Re(),I=Ne(i),[m,_]=en(),{children:y,linkChildren:V}=ot(gt),w=Te({inited:!1,position:"",lineStyle:{},currentIndex:-1}),K=A(()=>y.length>+e.swipeThreshold||!e.ellipsis||e.shrink),N=A(()=>({borderColor:e.color,background:e.background})),x=(u,k)=>{var t;return(t=u.name)!=null?t:k},F=A(()=>{const u=y[w.currentIndex];if(u)return x(u,w.currentIndex)}),D=A(()=>at(e.offsetTop)),S=A(()=>e.sticky?D.value+r:0),T=u=>{const k=b.value,t=m.value;if(!K.value||!k||!t||!t[w.currentIndex])return;const v=t[w.currentIndex].$el,f=v.offsetLeft-(k.offsetWidth-v.offsetWidth)/2;s&&s(),s=ln(k,f,u?0:+e.duration)},B=()=>{const u=w.inited;p(()=>{const k=m.value;if(!k||!k[w.currentIndex]||e.type!=="line"||Se(i.value))return;const t=k[w.currentIndex].$el,{lineWidth:v,lineHeight:f}=e,C=t.offsetLeft+t.offsetWidth/2,R={width:Ie(v),backgroundColor:e.color,transform:`translateX(${C}px) translateX(-50%)`};if(u&&(R.transitionDuration=`${e.duration}s`),j(f)){const P=Ie(f);R.height=P,R.borderRadius=P}w.lineStyle=R})},O=u=>{const k=u<w.currentIndex?-1:1;for(;u>=0&&u<y.length;){if(!y[u].disabled)return u;u+=k}},E=(u,k)=>{const t=O(u);if(!j(t))return;const v=y[t],f=x(v,t),C=w.currentIndex!==null;w.currentIndex!==t&&(w.currentIndex=t,k||T(),B()),f!==e.active&&(n("update:active",f),C&&n("change",f,v.title)),a&&!e.scrollspy&&He(Math.ceil(pe(i.value)-D.value))},M=(u,k)=>{const t=y.find((f,C)=>x(f,C)===u),v=t?y.indexOf(t):0;E(v,k)},Z=(u=!1)=>{if(e.scrollspy){const k=y[w.currentIndex].$el;if(k&&I.value){const t=pe(k,I.value)-S.value;o=!0,h&&h(),h=on(I.value,t,u?0:+e.duration,()=>{o=!1})}}},H=(u,k,t)=>{const{title:v,disabled:f}=y[k],C=x(y[k],k);f||(Bt(e.beforeChange,{args:[C],done:()=>{E(k),Z()}}),At(u)),n("clickTab",{name:C,title:v,event:t,disabled:f})},W=u=>{a=u.isFixed,n("scroll",u)},de=u=>{p(()=>{M(u),Z(!0)})},G=()=>{for(let u=0;u<y.length;u++){const{top:k}=ne(y[u].$el);if(k>S.value)return u===0?0:u-1}return y.length-1},$e=()=>{if(e.scrollspy&&!o){const u=G();E(u)}},Be=()=>{if(e.type==="line"&&y.length)return c("div",{class:we("line"),style:w.lineStyle},null)},xe=()=>{var u,k,t;const{type:v,border:f,sticky:C}=e,R=[c("div",{ref:C?void 0:d,class:[we("wrap"),{[$t]:v==="line"&&f}]},[c("div",{ref:b,role:"tablist",class:we("nav",[v,{shrink:e.shrink,complete:K.value}]),style:N.value,"aria-orientation":"horizontal"},[(u=l["nav-left"])==null?void 0:u.call(l),y.map(P=>P.renderTitle(H)),Be(),(k=l["nav-right"])==null?void 0:k.call(l)])]),(t=l["nav-bottom"])==null?void 0:t.call(l)];return C?c("div",{ref:d},[R]):R},ke=()=>{B(),p(()=>{var u,k;T(!0),(k=(u=$.value)==null?void 0:u.swipeRef.value)==null||k.resize()})};Y(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),Y(it,ke),Y(()=>e.active,u=>{u!==F.value&&M(u)}),Y(()=>y.length,()=>{w.inited&&(M(e.active),B(),p(()=>{T(!0)}))});const Ae=()=>{M(e.active,!0),p(()=>{w.inited=!0,d.value&&(r=ne(d.value).height),T(!0)})},Le=(u,k)=>n("rendered",u,k);return se({resize:ke,scrollTo:de}),Tt(B),Rt(B),nt(Ae),ht(i,B),ye("scroll",$e,{target:I,passive:!0}),V({id:g,props:e,setLine:B,scrollable:K,onRendered:Le,currentName:F,setTitleRefs:_,scrollIntoView:T}),()=>c("div",{ref:i,class:we([e.type])},[e.showHeader?e.sticky?c(fn,{container:i.value,offsetTop:D.value,onScroll:W},{default:()=>[xe()]}):xe():null,c(vn,{ref:$,count:y.length,inited:w.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:w.currentIndex,onChange:E},{default:()=>{var u;return[(u=l.default)==null?void 0:u.call(l)]}})])}});const mn=Symbol(),[yn,Ge]=Q("tab"),xn=ee({name:yn,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:z,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:le},setup(e,{slots:n}){const l=A(()=>{const o={},{type:a,color:s,disabled:h,isActive:i,activeColor:b,inactiveColor:d}=e;s&&a==="card"&&(o.borderColor=s,h||(i?o.backgroundColor=s:o.color=s));const g=i?b:d;return g&&(o.color=g),o}),r=()=>{const o=c("span",{class:Ge("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||j(e.badge)&&e.badge!==""?c(Lt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[o]}):o};return()=>c("div",{id:e.id,role:"tab",class:[Ge([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:l.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}}),[kn,Ve]=Q("tab"),Cn=ce({},rt,{dot:Boolean,name:z,badge:z,title:String,disabled:Boolean,titleClass:he,titleStyle:[String,Object],showZeroBadge:le});var wn=ee({name:kn,props:Cn,setup(e,{slots:n}){const l=Re(),r=L(!1),o=tt(),{parent:a,index:s}=We(gt);if(!a)return;const h=()=>{var m;return(m=e.name)!=null?m:s.value},i=()=>{r.value=!0,a.props.lazyRender&&p(()=>{a.onRendered(h(),e.title)})},b=A(()=>{const m=h()===a.currentName.value;return m&&!r.value&&i(),m}),d=L(""),$=L("");Et(()=>{const{titleClass:m,titleStyle:_}=e;d.value=m?Mt(m):"",$.value=_&&typeof _!="string"?zt(Dt(_)):_});const g=m=>c(xn,qe({key:l,id:`${a.id}-${s.value}`,ref:a.setTitleRefs(s.value),style:$.value,class:d.value,isActive:b.value,controls:l,scrollable:a.scrollable.value,activeColor:a.props.titleActiveColor,inactiveColor:a.props.titleInactiveColor,onClick:_=>m(o.proxy,s.value,_)},_e(a.props,["type","color","shrink"]),_e(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),I=L(!b.value);return Y(b,m=>{m?I.value=!1:Vt(()=>{I.value=!0})}),Y(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),ct(mn,b),se({id:l,renderTitle:g}),()=>{var m;const _=`${a.id}-${s.value}`,{animated:y,swipeable:V,scrollspy:w,lazyRender:K}=a.props;if(!n.default&&!y)return;const N=w||b.value;if(y||V)return c(an,{id:l,role:"tabpanel",class:Ve("panel-wrapper",{inactive:I.value}),tabindex:b.value?0:-1,"aria-hidden":!b.value,"aria-labelledby":_},{default:()=>{var D;return[c("div",{class:Ve("panel")},[(D=n.default)==null?void 0:D.call(n)])]}});const F=r.value||w||!K?(m=n.default)==null?void 0:m.call(n):null;return Pt(c("div",{id:l,role:"tabpanel",class:Ve("panel"),tabindex:N?0:-1,"aria-labelledby":_},[F]),[[Ot,N]])}}});const Sn=ie(wn),In=ie(bn),[_n,ue]=Q("cell"),bt={tag:ae("div"),icon:String,size:String,title:z,value:z,label:z,center:Boolean,isLink:Boolean,border:le,iconPrefix:String,valueClass:he,labelClass:he,titleClass:he,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},Tn=ce({},bt,rt);var Rn=ee({name:_n,props:Tn,setup(e,{slots:n}){const l=Nt(),r=()=>{if(n.label||j(e.label))return c("div",{class:[ue("label"),e.labelClass]},[n.label?n.label():e.label])},o=()=>{var i;if(n.title||j(e.title)){const b=(i=n.title)==null?void 0:i.call(n);return Array.isArray(b)&&b.length===0?void 0:c("div",{class:[ue("title"),e.titleClass],style:e.titleStyle},[b||c("span",null,[e.title]),r()])}},a=()=>{const i=n.value||n.default;if(i||j(e.value))return c("div",{class:[ue("value"),e.valueClass]},[i?i():c("span",null,[e.value])])},s=()=>{if(n.icon)return n.icon();if(e.icon)return c(ve,{name:e.icon,class:ue("left-icon"),classPrefix:e.iconPrefix},null)},h=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const i=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return c(ve,{name:i,class:ue("right-icon")},null)}};return()=>{var i;const{tag:b,size:d,center:$,border:g,isLink:I,required:m}=e,_=(i=e.clickable)!=null?i:I,y={center:$,required:!!m,clickable:_,borderless:!g};return d&&(y[d]=!!d),c(b,{class:ue(y),role:_?"button":void 0,tabindex:_?0:void 0,onClick:l},{default:()=>{var V;return[s(),o(),a(),h(),(V=n.extra)==null?void 0:V.call(n)]}})}}});const mt=ie(Rn);function yt(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function $n(e,n){if(yt(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Bn(e,n){return new Promise(l=>{const r=n.validator(e,n);if(Ft(r)){r.then(l);return}l(r)})}function Je(e,n){const{message:l}=n;return Ht(l)?l(e,n):l||""}function An({target:e}){e.composing=!0}function Qe({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Ln(e,n){const l=je();e.style.height="auto";let r=e.scrollHeight;if(Wt(n)){const{maxHeight:o,minHeight:a}=n;o!==void 0&&(r=Math.min(r,o)),a!==void 0&&(r=Math.max(r,a))}r&&(e.style.height=`${r}px`,He(l))}function En(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function te(e){return[...e].length}function Pe(e,n){return[...e].slice(0,n).join("")}const[Vn,U]=Q("field"),Ke={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:z,formatter:Function,clearIcon:ae("clear"),modelValue:oe(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:ae("focus"),formatTrigger:ae("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},Pn=ce({},bt,Ke,{rows:z,type:ae("text"),rules:Array,autosize:[Boolean,Object],labelWidth:z,labelClass:he,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var On=ee({name:Vn,props:Pn,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l}){const r=Re(),o=Te({status:"unvalidated",focused:!1,validateMessage:""}),a=L(),s=L(),h=L(),{parent:i}=We(qt),b=()=>{var t;return String((t=e.modelValue)!=null?t:"")},d=t=>{if(j(e[t]))return e[t];if(i&&j(i.props[t]))return i.props[t]},$=A(()=>{const t=d("readonly");if(e.clearable&&!t){const v=b()!=="",f=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return v&&f}return!1}),g=A(()=>h.value&&l.input?h.value():e.modelValue),I=A(()=>{var t;const v=d("required");return v==="auto"?(t=e.rules)==null?void 0:t.some(f=>f.required):v}),m=t=>t.reduce((v,f)=>v.then(()=>{if(o.status==="failed")return;let{value:C}=g;if(f.formatter&&(C=f.formatter(C,f)),!$n(C,f)){o.status="failed",o.validateMessage=Je(C,f);return}if(f.validator)return yt(C)&&f.validateEmpty===!1?void 0:Bn(C,f).then(R=>{R&&typeof R=="string"?(o.status="failed",o.validateMessage=R):R===!1&&(o.status="failed",o.validateMessage=Je(C,f))})}),Promise.resolve()),_=()=>{o.status="unvalidated",o.validateMessage=""},y=()=>n("endValidate",{status:o.status,message:o.validateMessage}),V=(t=e.rules)=>new Promise(v=>{_(),t?(n("startValidate"),m(t).then(()=>{o.status==="failed"?(v({name:e.name,message:o.validateMessage}),y()):(o.status="passed",v(),y())})):v()}),w=t=>{if(i&&e.rules){const{validateTrigger:v}=i.props,f=Ye(v).includes(t),C=e.rules.filter(R=>R.trigger?Ye(R.trigger).includes(t):f);C.length&&V(C)}},K=t=>{var v;const{maxlength:f}=e;if(j(f)&&te(t)>+f){const C=b();if(C&&te(C)===+f)return C;const R=(v=a.value)==null?void 0:v.selectionEnd;if(o.focused&&R){const P=[...t],X=P.length-+f;return P.splice(R-X,X),P.join("")}return Pe(t,+f)}return t},N=(t,v="onChange")=>{const f=t;t=K(t);const C=te(f)-te(t);if(e.type==="number"||e.type==="digit"){const P=e.type==="number";t=Kt(t,P,P)}let R=0;if(e.formatter&&v===e.formatTrigger){const{formatter:P,maxlength:X}=e;if(t=P(t),j(X)&&te(t)>+X&&(t=Pe(t,+X)),a.value&&o.focused){const{selectionEnd:Ce}=a.value,Ue=Pe(f,Ce);R=te(P(Ue))-te(Ue)}}if(a.value&&a.value.value!==t)if(o.focused){let{selectionStart:P,selectionEnd:X}=a.value;if(a.value.value=t,j(P)&&j(X)){const Ce=te(t);C?(P-=C,X-=C):R&&(P+=R,X+=R),a.value.setSelectionRange(Math.min(P,Ce),Math.min(X,Ce))}}else a.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},x=t=>{t.target.composing||N(t.target.value)},F=()=>{var t;return(t=a.value)==null?void 0:t.blur()},D=()=>{var t;return(t=a.value)==null?void 0:t.focus()},S=()=>{const t=a.value;e.type==="textarea"&&e.autosize&&t&&Ln(t,e.autosize)},T=t=>{o.focused=!0,n("focus",t),p(S),d("readonly")&&F()},B=t=>{o.focused=!1,N(b(),"onBlur"),n("blur",t),!d("readonly")&&(w("onBlur"),p(S),pt())},O=t=>n("clickInput",t),E=t=>n("clickLeftIcon",t),M=t=>n("clickRightIcon",t),Z=t=>{ge(t),n("update:modelValue",""),n("clear",t)},H=A(()=>{if(typeof e.error=="boolean")return e.error;if(i&&i.props.showError&&o.status==="failed")return!0}),W=A(()=>{const t=d("labelWidth"),v=d("labelAlign");if(t&&v!=="top")return{width:Ie(t)}}),de=t=>{t.keyCode===13&&(!(i&&i.props.submitOnEnter)&&e.type!=="textarea"&&ge(t),e.type==="search"&&F()),n("keypress",t)},G=()=>e.id||`${r}-input`,$e=()=>o.status,Be=()=>{const t=U("control",[d("inputAlign"),{error:H.value,custom:!!l.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(l.input)return c("div",{class:t,onClick:O},[l.input()]);const v={id:G(),ref:a,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:B,onFocus:T,onInput:x,onClick:O,onChange:Qe,onKeypress:de,onCompositionend:Qe,onCompositionstart:An};return e.type==="textarea"?c("textarea",v,null):c("input",qe(En(e.type),v),null)},xe=()=>{const t=l["left-icon"];if(e.leftIcon||t)return c("div",{class:U("left-icon"),onClick:E},[t?t():c(ve,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ke=()=>{const t=l["right-icon"];if(e.rightIcon||t)return c("div",{class:U("right-icon"),onClick:M},[t?t():c(ve,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Ae=()=>{if(e.showWordLimit&&e.maxlength){const t=te(b());return c("div",{class:U("word-limit")},[c("span",{class:U("word-num")},[t]),Ut("/"),e.maxlength])}},Le=()=>{if(i&&i.props.showErrorMessage===!1)return;const t=e.errorMessage||o.validateMessage;if(t){const v=l["error-message"],f=d("errorMessageAlign");return c("div",{class:U("error-message",f)},[v?v({message:t}):t])}},u=()=>{const t=d("labelWidth"),v=d("labelAlign"),f=d("colon")?":":"";if(l.label)return[l.label(),f];if(e.label)return c("label",{id:`${r}-label`,for:l.input?void 0:G(),onClick:C=>{ge(C),D()},style:v==="top"&&t?{width:Ie(t)}:void 0},[e.label+f])},k=()=>[c("div",{class:U("body")},[Be(),$.value&&c(ve,{ref:s,name:e.clearIcon,class:U("clear")},null),ke(),l.button&&c("div",{class:U("button")},[l.button()])]),Ae(),Le()];return se({blur:F,focus:D,validate:V,formValue:g,resetValidation:_,getValidationStatus:$e}),ct(jt,{customValue:h,resetValidation:_,validateWithTrigger:w}),Y(()=>e.modelValue,()=>{N(b()),_(),w("onChange"),p(S)}),Fe(()=>{N(b(),e.formatTrigger),p(S)}),ye("touchstart",Z,{target:A(()=>{var t;return(t=s.value)==null?void 0:t.$el})}),()=>{const t=d("disabled"),v=d("labelAlign"),f=xe(),C=()=>{const R=u();return v==="top"?[f,R].filter(Boolean):R||[]};return c(mt,{size:e.size,class:U({error:H.value,disabled:t,[`label-${v}`]:v}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:W.value,valueClass:U("value"),titleClass:[U("label",[v,{required:I.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:f&&v!=="top"?()=>f:null,title:C,value:k,extra:l.extra})}}});const Mn=ie(On);function zn(){return Array(26).fill("").map((l,r)=>String.fromCharCode(65+r))}const[xt,Oe]=Q("index-bar"),Dn={sticky:le,zIndex:z,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Zt(0),indexList:{type:Array,default:zn}},kt=Symbol(xt);var Nn=ee({name:xt,props:Dn,emits:["select","change"],setup(e,{emit:n,slots:l}){const r=L(),o=L(),a=L(""),s=tn(),h=Ne(r),{children:i,linkChildren:b}=ot(kt);let d;b({props:e});const $=A(()=>{if(j(e.zIndex))return{zIndex:+e.zIndex+1}}),g=A(()=>{if(e.highlightColor)return{color:e.highlightColor}}),I=(S,T)=>{for(let B=i.length-1;B>=0;B--){const O=B>0?T[B-1].height:0,E=e.sticky?O+e.stickyOffsetTop:0;if(S+E>=T[B].top)return B}return-1},m=S=>i.find(T=>String(T.index)===S),_=()=>{if(Se(r))return;const{sticky:S,indexList:T}=e,B=me(h.value),O=ne(h),E=i.map(Z=>Z.getRect(h.value,O));let M=-1;if(d){const Z=m(d);if(Z){const H=Z.getRect(h.value,O);M=I(H.top,E)}}else M=I(B,E);a.value=T[M],S&&i.forEach((Z,H)=>{const{state:W,$el:de}=Z;if(H===M||H===M-1){const G=de.getBoundingClientRect();W.left=G.left,W.width=G.width}else W.left=null,W.width=null;if(H===M)W.active=!0,W.top=Math.max(e.stickyOffsetTop,E[H].top-B)+O.top;else if(H===M-1&&d===""){const G=E[M].top-B;W.active=G>0,W.top=G+O.top-E[H].height}else W.active=!1}),d=""},y=()=>{p(_)};ye("scroll",_,{target:h,passive:!0}),Fe(y),Y(()=>e.indexList,y),Y(a,S=>{S&&n("change",S)});const V=()=>e.indexList.map(S=>{const T=S===a.value;return c("span",{class:Oe("index",{active:T}),style:T?g.value:void 0,"data-index":S},[S])}),w=S=>{d=String(S);const T=m(d);if(T){const B=me(h.value),O=ne(h),{offsetHeight:E}=document.documentElement;if(T.$el.scrollIntoView(),B===E-O.height){_();return}e.sticky&&e.stickyOffsetTop&&He(je()-e.stickyOffsetTop),n("select",T.index)}},K=S=>{const{index:T}=S.dataset;T&&w(T)},N=S=>{K(S.target)};let x;const F=S=>{if(s.move(S),s.isVertical()){ge(S);const{clientX:T,clientY:B}=S.touches[0],O=document.elementFromPoint(T,B);if(O){const{index:E}=O.dataset;E&&x!==E&&(x=E,K(O))}}},D=()=>c("div",{ref:o,class:Oe("sidebar"),style:$.value,onClick:N,onTouchstartPassive:s.start},[V()]);return se({scrollTo:w}),ye("touchmove",F,{target:o}),()=>{var S;return c("div",{ref:r,class:Oe()},[e.teleport?c(Yt,{to:e.teleport},{default:()=>[D()]}):D(),(S=l.default)==null?void 0:S.call(l)])}}});const[Fn,Hn]=Q("index-anchor"),Wn={index:z};var qn=ee({name:Fn,props:Wn,setup(e,{slots:n}){const l=Te({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=L(),{parent:o}=We(kt);if(!o)return;const a=()=>l.active&&o.props.sticky,s=A(()=>{const{zIndex:i,highlightColor:b}=o.props;if(a())return ce(lt(i),{left:l.left?`${l.left}px`:void 0,width:l.width?`${l.width}px`:void 0,transform:l.top?`translate3d(0, ${l.top}px, 0)`:void 0,color:b})});return se({state:l,getRect:(i,b)=>{const d=ne(r);return l.rect.height=d.height,i===window||i===document.body?l.rect.top=d.top+je():l.rect.top=d.top+me(i)-b.top,l.rect}}),()=>{const i=a();return c("div",{ref:r,style:{height:i?`${l.rect.height}px`:void 0}},[c("div",{style:s.value,class:[Hn({sticky:i}),{[Xt]:i}]},[n.default?n.default():e.index])])}}});const jn=ie(qn),Kn=ie(Nn),[Un,fe,pn]=Q("search"),Yn=ce({},Ke,{label:String,shape:ae("square"),leftIcon:ae("search"),clearable:le,actionText:String,background:String,showAction:Boolean});var Zn=ee({name:Un,props:Yn,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l,attrs:r}){const o=Re(),a=L(),s=()=>{l.action||(n("update:modelValue",""),n("cancel"))},h=x=>{x.keyCode===13&&(ge(x),n("search",e.modelValue))},i=()=>e.id||`${o}-input`,b=()=>{if(l.label||e.label)return c("label",{class:fe("label"),for:i()},[l.label?l.label():e.label])},d=()=>{if(e.showAction){const x=e.actionText||pn("cancel");return c("div",{class:fe("action"),role:"button",tabindex:0,onClick:s},[l.action?l.action():x])}},$=()=>{var x;return(x=a.value)==null?void 0:x.blur()},g=()=>{var x;return(x=a.value)==null?void 0:x.focus()},I=x=>n("blur",x),m=x=>n("focus",x),_=x=>n("clear",x),y=x=>n("clickInput",x),V=x=>n("clickLeftIcon",x),w=x=>n("clickRightIcon",x),K=Object.keys(Ke),N=()=>{const x=ce({},r,_e(e,K),{id:i()}),F=D=>n("update:modelValue",D);return c(Mn,qe({ref:a,type:"search",class:fe("field",{"with-message":x.errorMessage}),border:!1,onBlur:I,onFocus:m,onClear:_,onKeypress:h,onClickInput:y,onClickLeftIcon:V,onClickRightIcon:w,"onUpdate:modelValue":F},x),_e(l,["left-icon","right-icon"]))};return se({focus:g,blur:$}),()=>{var x;return c("div",{class:fe({"show-action":e.showAction}),style:{background:e.background}},[(x=l.left)==null?void 0:x.call(l),c("div",{class:fe("content",e.shape)},[b(),N()]),d()])}}});const Xn=ie(Zn),Gn={class:"cityGroup"},Jn={class:"list"},Qn=["onClick"],ea={__name:"city-group",props:{groupData:{type:Object,default:()=>({})}},setup(e){const n=e,l=A(()=>{const s=n.groupData.cities.map(h=>h.group);return s.unshift("#"),s}),r=ut(),o=ft(),a=s=>{console.log(s),o.currentCity=s,r.back()};return(s,h)=>{const i=jn,b=mt,d=Kn;return q(),J("div",Gn,[c(d,{"highlight-color":"#ff9854",sticky:!1,indexList:l.value},{default:dt(()=>[c(i,{index:"热门"}),ze("div",Jn,[(q(!0),J(re,null,be(e.groupData.hotCities,($,g)=>(q(),J("div",{key:g,class:"city",onClick:I=>a($)},Gt($.cityName),9,Qn))),128))]),(q(!0),J(re,null,be(e.groupData.cities,($,g)=>(q(),J(re,{key:g},[c(i,{index:$.group},null,8,["index"]),(q(!0),J(re,null,be($.cities,(I,m)=>(q(),De(b,{key:m,title:I.cityName,onClick:_=>a(I)},null,8,["title","onClick"]))),128))],64))),128))]),_:1},8,["indexList"])])}}},ta=st(ea,[["__scopeId","data-v-dc8ebf23"]]),na={class:"city"},aa={class:"top"},la={class:"content"},ia={__name:"city",setup(e){const n=L(""),l=ut();function r(){l.back()}const o=L(),a=ft();a.fetchAllCitysData();const{allCitys:s}=Jt(a);return A(()=>s.value[o.value]),(h,i)=>{const b=Xn,d=Sn,$=In;return q(),J("div",na,[ze("div",aa,[c(b,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=g=>n.value=g),placeholder:"请输入搜索关键词","show-action":"",shape:"round",onCancel:r},null,8,["modelValue"]),c($,{active:o.value,"onUpdate:active":i[1]||(i[1]=g=>o.value=g),color:"#ff9854","line-height":"3"},{default:dt(()=>[(q(!0),J(re,null,be(Ze(s),(g,I,m)=>(q(),De(d,{key:I,title:g.title,name:I},null,8,["title","name"]))),128))]),_:1},8,["active"])]),ze("div",la,[(q(!0),J(re,null,be(Ze(s),(g,I,m)=>(q(),J(re,{key:I},[o.value===I?(q(),De(ta,{key:0,"group-data":g},null,8,["group-data"])):Qt("",!0)],64))),128))])])}}},ua=st(ia,[["__scopeId","data-v-4d14d638"]]);export{ua as default};
