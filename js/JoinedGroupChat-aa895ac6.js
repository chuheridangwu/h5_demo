import{_ as u,S as V,C as p,ak as _}from"./common-e61c72ea.js";import"./vendor-54a376b9.js";const h={name:"Share2Friend",components:{Search:V,Check:p},props:{},computed:{},data(){return{friends:{all:{},recent:[],eachOther:[]},selectFriends:[]}},created(){this.getFriends()},methods:{save(){this.selectFriends.length&&this.$back()},toggleSelect(e){let s=this.selectFriends.findIndex(n=>n.name===e.name);s!==-1?(e.select=!1,this.selectFriends.splice(s,1)):(e.select=!0,this.selectFriends.push(e))},async getFriends(){let e=await _();e.code===this.SUCCESS&&(this.friends=e.data,this.friends.all=this.friends.all.sort((s,n)=>s.pinyin<n.pinyin?-1:s.pinyin>n.pinyin?1:0))}}},r=e=>(Vue.pushScopeId("data-v-2a205f57"),e=e(),Vue.popScopeId(),e),m={class:"Share2Friend"},f=r(()=>Vue.createElementVNode("span",{class:"f16"},"已加入的群聊",-1)),v={class:"content"},g={class:"list"},k=["onClick"],C=["src"],N={class:"desc"},S={class:"name"},E=r(()=>Vue.createElementVNode("span",{class:"num"},"(3)",-1));function F(e,s,n,y,o,l){const a=Vue.resolveComponent("BaseHeader"),d=Vue.resolveComponent("Check"),i=Vue.resolveComponent("NoMore");return Vue.openBlock(),Vue.createElementBlock("div",m,[Vue.createVNode(a,{backMode:"light",backImg:"back",style:{"z-index":"7"}},{center:Vue.withCtx(()=>[f]),right:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("span",{class:Vue.normalizeClass(["f16",o.selectFriends.length?"save-yes":"save-no"]),onClick:s[0]||(s[0]=(...t)=>l.save&&l.save(...t))}," 完成"+Vue.toDisplayString(o.selectFriends.length?`(${o.selectFriends.length})`:""),3)])]),_:1}),Vue.createElementVNode("div",v,[Vue.createElementVNode("div",g,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.friends.all,t=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"local-row",onClick:c=>{l.toggleSelect(t)}},[Vue.createVNode(d,{mode:"red",modelValue:t.select,"onUpdate:modelValue":c=>t.select=c},null,8,["modelValue","onUpdate:modelValue"]),Vue.createElementVNode("img",{src:e.$imgPreview(t.avatar),alt:""},null,8,C),Vue.createElementVNode("div",N,[Vue.createElementVNode("span",S,Vue.toDisplayString(t.name.length>20?t.name.substr(0,20)+"...":t.name),1),E])],8,k))),256))]),Vue.createVNode(i)])])}const I=u(h,[["render",F],["__scopeId","data-v-2a205f57"]]);export{I as default};
