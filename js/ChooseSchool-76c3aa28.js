import{_ as u,S as i,r as h}from"./common-e61c72ea.js";import{_ as V}from"./location-f4bdaff8.js";import"./vendor-54a376b9.js";const m={name:"ChooseSchool",components:{Search:i},data(){return{isSearch:!1,nearby:[],schools:[],searchSchools:[],schoolName:""}},created(){for(let t=0;t<20;t++)this.nearby.push("附近大学"+t),this.schools.push("所有大学"+t)},methods:{setSchool(t){localStorage.setItem("changeSchool",t),this.$back()},search(){if(!this.schoolName.length)return this.isSearch=!1;this.isSearch=!0;let t=this.nearby.concat(this.schools);this.searchSchools=t.filter(s=>s.includes(this.schoolName))}}},c=t=>(Vue.pushScopeId("data-v-a889b7be"),t=t(),Vue.popScopeId(),t),d={class:"choose-school"},_=c(()=>Vue.createElementVNode("span",{class:"f16"},"添加学校",-1)),p={class:"content"},k={key:0,class:"nearby"},S=c(()=>Vue.createElementVNode("div",{class:"title"},[Vue.createElementVNode("img",{src:V,alt:""}),Vue.createElementVNode("span",null,"离我最近")],-1)),N=["onClick"],B={key:1,class:"item"},v=c(()=>Vue.createElementVNode("div",{class:"line",style:{width:"calc(100% - 40rem)","margin-left":"20rem"}},null,-1)),y={key:1,class:"schools"},E=["onClick"],g={key:2},f=["onClick"],C={key:0},b={style:{color:"#f50"}},x={key:1},w={key:1,class:"empty"},D=c(()=>Vue.createElementVNode("img",{src:h,alt:""},null,-1)),I=c(()=>Vue.createElementVNode("div",{class:"title"},"搜索结果为空",-1)),F=c(()=>Vue.createElementVNode("div",{class:"sub-title"},"没有搜索到相关的内容",-1));function L(t,s,O,H,o,l){const r=Vue.resolveComponent("Search"),a=Vue.resolveComponent("BaseHeader");return Vue.openBlock(),Vue.createElementBlock("div",d,[Vue.createVNode(a,null,{center:Vue.withCtx(()=>[_]),right:Vue.withCtx(()=>[Vue.createElementVNode("span",{class:"f14",onClick:s[0]||(s[0]=e=>t.$nav("/me/declare-school",{type:1}))},"没有找到?")]),bottom:Vue.withCtx(()=>[Vue.createVNode(r,{class:"mt1r mb1r ml2r mr2r",placeholder:"搜索大学名称",modelValue:o.schoolName,"onUpdate:modelValue":s[1]||(s[1]=e=>o.schoolName=e),onClear:s[2]||(s[2]=e=>o.isSearch=!1),"is-show-right-text":!0,onNotice:l.search},null,8,["modelValue","onNotice"])]),_:1}),Vue.createElementVNode("div",p,[o.isSearch?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",k,[S,o.nearby.length?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(o.nearby,e=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",onClick:n=>l.setSchool(e)},Vue.toDisplayString(e),9,N))),256)):(Vue.openBlock(),Vue.createElementBlock("div",B,"无法获取"))])),v,o.isSearch?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",y,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.schools,e=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",onClick:n=>l.setSchool(e)},Vue.toDisplayString(e),9,E))),256))])),o.isSearch?(Vue.openBlock(),Vue.createElementBlock("div",g,[o.searchSchools.length?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(o.searchSchools,e=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",onClick:n=>l.setSchool(e)},[e.indexOf(o.schoolName)>-1?(Vue.openBlock(),Vue.createElementBlock("span",C,[Vue.createTextVNode(Vue.toDisplayString(e.substr(0,e.indexOf(o.schoolName)))+" ",1),Vue.createElementVNode("span",b,Vue.toDisplayString(o.schoolName),1),Vue.createTextVNode(" "+Vue.toDisplayString(e.substr(e.indexOf(o.schoolName)+o.schoolName.length)),1)])):(Vue.openBlock(),Vue.createElementBlock("span",x,Vue.toDisplayString(e),1))],8,f))),256)):(Vue.openBlock(),Vue.createElementBlock("div",w,[D,I,F,Vue.createElementVNode("div",{class:"btn",onClick:s[3]||(s[3]=e=>t.$nav("/me/declare-school"))},"没有学校信息？去申报")]))])):Vue.createCommentVNode("",!0)])])}const q=u(m,[["render",L],["__scopeId","data-v-a889b7be"]]);export{q as default};
